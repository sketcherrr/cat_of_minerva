---
/* 可通过 <Comments theme="preferred_color_scheme" /> 传入主题 */
import { GISCUS_REPO, GISCUS_REPO_ID, GISCUS_CATEGORY, GISCUS_CATEGORY_ID, GISCUS_LANG } from "../consts";
const { theme = 'preferred_color_scheme' } = Astro.props;
---
<section id="comments" class="my-12">
    <script src="https://giscus.app/client.js"
            data-repo={GISCUS_REPO}
            data-repo-id={GISCUS_REPO_ID}
            data-category={GISCUS_CATEGORY}
            data-category-id={GISCUS_CATEGORY_ID}
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme={theme}
            data-lang={GISCUS_LANG}
            crossorigin="anonymous"
            async>
    </script>
  <noscript>请启用 JavaScript 以查看评论。</noscript>
</section>
